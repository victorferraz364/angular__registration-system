<!-- Select de modo de visualização -->
<universal-select
  [label]="'Modo de Visualização'"
  [options]="modosVisualizacao"
  (valueChange)="atualizarModo($event)">
</universal-select>

<!-- Tabela Completa de Alimentos -->
<table *ngIf="modoVisualizacao === 'tabela'" mat-table [dataSource]="alimentosUnificados" class="mat-elevation-z8">
  <ng-container matColumnDef="alimento">
    <th mat-header-cell *matHeaderCellDef> Alimento </th>
    <td mat-cell *matCellDef="let element"> {{element.alimento}} </td>
  </ng-container>

  <ng-container matColumnDef="quantidade">
    <th mat-header-cell *matHeaderCellDef> Quantidade </th>
    <td mat-cell *matCellDef="let element"> {{element.quantidade}} </td>
  </ng-container>

  <ng-container matColumnDef="calorias">
    <th mat-header-cell *matHeaderCellDef> Calorias </th>
    <td mat-cell *matCellDef="let element"> {{element.calorias}} kcal </td>
  </ng-container>

  <ng-container matColumnDef="datahora">
    <th mat-header-cell *matHeaderCellDef> Data e Hora </th>
    <td mat-cell *matCellDef="let element"> {{element.datahora | date:'dd/MM/yyyy HH:mm'}} </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="['alimento', 'quantidade', 'calorias', 'datahora']"></tr>
  <tr mat-row *matRowDef="let row; columns: ['alimento', 'quantidade', 'calorias', 'datahora'];"></tr>
</table>

<!-- Tabela com Separação por Refeição -->

<mat-accordion *ngIf="modoVisualizacao === 'separado'" multi>
  <mat-expansion-panel [expanded]="true" *ngFor="let refeicao of refeicoes">
    <mat-expansion-panel-header >
      <mat-panel-title>
       {{ refeicao.nome}}
      </mat-panel-title>
    </mat-expansion-panel-header>

    <table mat-table [dataSource]="refeicao.alimentos"  class="mat-elevation-z8">

      <ng-container matColumnDef="alimento">
        <th mat-header-cell *matHeaderCellDef> Alimento </th>
        <td mat-cell *matCellDef="let element"> {{element.alimento}} </td>
      </ng-container>

      <ng-container matColumnDef="quantidade">
        <th mat-header-cell *matHeaderCellDef> Quantidade </th>
        <td mat-cell *matCellDef="let element"> {{element.quantidade}} </td>
      </ng-container>

      <ng-container matColumnDef="calorias">
        <th mat-header-cell *matHeaderCellDef> Calorias </th>
        <td mat-cell *matCellDef="let element"> {{element.calorias}} kcal </td>
      </ng-container>

      <ng-container matColumnDef="datahora">
        <th mat-header-cell *matHeaderCellDef> Data e Hora </th>
        <td mat-cell *matCellDef="let element"> {{element.datahora | date:'dd/MM/yyyy HH:mm'}} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="['alimento', 'quantidade', 'calorias', 'datahora']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['alimento', 'quantidade', 'calorias', 'datahora'];"></tr>
    </table>


  </mat-expansion-panel>
</mat-accordion>